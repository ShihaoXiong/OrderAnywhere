(this.webpackJsonpOnlineOrder=this.webpackJsonpOnlineOrder||[]).push([[0],{185:function(e,t,n){},186:function(e,t,n){},274:function(e,t,n){},275:function(e,t,n){},282:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(28),c=n.n(a),s=(n(185),n(5)),i=n(291),o=(n(186),n(17)),l=n(18),u=n(21),j=n(20),d=n(285),b=n(289),m=n(68),O=n(293),h=n(294),p=n(176),f=n(6),x=n(187).create({timeout:15e3,headers:{"Content-Type":"application/json"},withCredentials:!0});x.interceptors.response.use((function(e){return e.status>=200||e.status<300?e.data:Promise.reject("Request error, please try again later!")}),(function(e){return p.b.error("Request error, please try again later!"),Promise.reject(e)}));var g=["get","post","put","delete"].reduce((function(e,t){return e[t]=function(e,n){var r=Object(f.a)({method:t,url:e},"get"===t?"params":"data",n);return x.request(r).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},e}),{}),y=function(e){var t=e.username,n=e.password,r="/login?username=".concat(t,"&password=").concat(n);return g.post(r).then((function(){return p.b.success("Login successfully!")}))},v=function(e){return g.get("/restaurant/".concat(e,"/menu"))},S=function(e){return g.post("/signup",e)},w=n(7),C=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={loading:!1},e.onFinish=function(t){e.setState({loading:!0}),y(t).then((function(){e.props.onSuccess()})).finally((function(){return e.setState({loading:!1})}))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(w.jsxs)(d.a,{name:"normal_login",className:"login__form",onFinish:this.onFinish,size:"large",children:[Object(w.jsx)(d.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(w.jsx)(b.a,{prefix:Object(w.jsx)(O.a,{}),placeholder:"Username"})}),Object(w.jsx)(d.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(w.jsx)(b.a.Password,{prefix:Object(w.jsx)(h.a,{}),type:"password",placeholder:"Password"})}),Object(w.jsx)(d.a.Item,{children:Object(w.jsx)(m.a,{style:{width:"100%"},type:"primary",htmlType:"submit",loading:this.state.loading,children:"Log in"})})]})}}]),n}(r.Component),_=C,I=n.p+"static/media/login_img.518eef0d.png",P=(n(274),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(w.jsxs)("div",{className:"login__page",children:[Object(w.jsx)("span",{className:"login__img-container",children:Object(w.jsx)("img",{src:I,alt:""})}),Object(w.jsxs)("span",{className:"login__form-container",children:[Object(w.jsxs)("h1",{children:["Order",Object(w.jsx)("span",{children:"Any"}),"where"]}),Object(w.jsx)(_,{onSuccess:this.props.onSuccess})]})]})}}]),n}(r.Component)),k=P,F=(n(275),n(91)),R=F.a.Option,N=function(e){var t=Object(r.useState)([]),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!1),o=Object(s.a)(i,2),l=o[0],u=o[1];return Object(r.useEffect)((function(){u(!0),g.get("/restaurants").then((function(e){return c(e)})).finally((function(e){return u(!1)}))}),[]),Object(w.jsx)(F.a,{className:"select__foodlist",value:e.curRest,loading:l,placeholder:"Select a restaurant",size:"large",onSelect:function(t){return e.onSelectRest(t)},children:a.map((function(e){return Object(w.jsx)(R,{value:e.id,children:e.name},e.id)}))})},U=n(286),q=n(284),L=n(66),T=n(180),A=function(e){var t=e.itemId,n=Object(r.useState)(!1),a=Object(s.a)(n,2),c=a[0],i=a[1];return Object(w.jsx)(L.a,{title:"Add to shopping cart",children:Object(w.jsx)(m.a,{loading:c,type:"primary",icon:Object(w.jsx)(T.a,{}),onClick:function(){i(!0),function(e){return g.post("/order/".concat(e))}(t).then((function(){return p.b.success("success")})).finally((function(){return i(!1)}))}})})},z=function(e){var t=e.menu;return Object(w.jsx)(U.b,{className:"menu-list-container",grid:{gutter:16,xs:1,sm:2,md:4,lg:4,xl:3,xxl:3},dataSource:t,renderItem:function(e){return Object(w.jsx)(U.b.Item,{children:Object(w.jsxs)(q.a,{title:e.name,extra:Object(w.jsx)(A,{itemId:e.id}),children:[Object(w.jsx)("img",{className:"menu-list-item__img",src:e.imageUrl,alt:""}),"Price: $".concat(e.price)]})})}})},D=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={curRest:null,menuData:[]},e.onSelectRest=function(t){return e.setState({curRest:t})},e.componentDidUpdate=function(t,n){n.curRest!==e.state.curRest&&v(e.state.curRest).then((function(t){return e.setState({menuData:t})}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.curRest,n=e.menuData;return Object(w.jsxs)("div",{children:[Object(w.jsx)(N,{curRest:t,onSelectRest:this.onSelectRest}),Object(w.jsx)(z,{menu:n})]})}}]),n}(r.Component),M=D,E=n(1),B=n(292),H=n(290),J=n(295),$=n(287).a.Text,V=function(e){var t=e.price,n=e.cancel,a=e.clearCart,c=e.disableCheckout,i=Object(r.useState)(!1),o=Object(s.a)(i,2),l=o[0],u=o[1];return Object(w.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(w.jsx)($,{strong:!0,children:"Total Price: $".concat(t.toFixed(2))}),Object(w.jsxs)("div",{children:[Object(w.jsx)(m.a,{onClick:n,children:"Cancel"}),Object(w.jsx)(m.a,{type:"primary",onClick:function(){u(!0),g.get("/checkout").then((function(e){p.b.success("Successfully checkout!"),a()})).finally((function(){return u(!1)}))},loading:l,disabled:c||l,children:"Checkout"})]})]})},Y=function(){var e,t,n,a=Object(r.useState)(!1),c=Object(s.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)(!1),u=Object(s.a)(l,2),j=u[0],d=u[1],b=Object(r.useState)(),O=Object(s.a)(b,2),h=O[0],p=O[1],f=function(){return o(!1)};Object(r.useEffect)((function(){i&&(d(!0),g.get("/cart").then((function(e){return p(e)})).finally((function(){return d(!1)})))}),[i]);var x={type:"primary",shape:"round",size:"large",icon:Object(w.jsx)(J.a,{})};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.a,Object(E.a)(Object(E.a)({style:{margin:"auto 0"}},x),{},{onClick:function(){return o(!0)},children:"Cart"})),Object(w.jsx)(B.a,{width:"50vw",title:"My Shopping Cart",visible:i,onClose:f,footer:Object(w.jsx)(V,{price:null!==(e=null===h||void 0===h?void 0:h.totalPrice)&&void 0!==e?e:0,cancel:f,disableCheckout:!(null===h||void 0===h||null===(t=h.orderItemList)||void 0===t?void 0:t.length),clearCart:function(){return p(),void o(!1)}}),children:Object(w.jsx)(U.b,{loading:j,dataSource:null!==(n=null===h||void 0===h?void 0:h.orderItemList)&&void 0!==n?n:[],renderItem:function(e){return Object(w.jsx)(U.b.Item,{children:Object(w.jsx)(U.b.Item.Meta,{avatar:Object(w.jsx)(H.a,{src:e.menuItem.imageUrl}),title:e.menuItem.name,description:e.menuItem.description})})}})})]})},G=n.p+"static/media/logo.65d53d4b.png",K=n(288),Q=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={loading:!1},e.onFinish=function(t){e.setState({loading:!0}),S(t).then((function(){return p.b.success("Sign up successfully!")})).finally((function(){e.setState({loading:!1}),e.props.closeModal()}))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(w.jsxs)(d.a,{name:"normal_login",className:"login__form",initialValues:{remember:!0},onFinish:this.onFinish,size:"large",children:[Object(w.jsx)(d.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Username!"}],children:Object(w.jsx)(b.a,{prefix:Object(w.jsx)(O.a,{}),placeholder:"Username"})}),Object(w.jsx)(d.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(w.jsx)(b.a.Password,{prefix:Object(w.jsx)(h.a,{}),type:"password",placeholder:"Password"})}),Object(w.jsx)(d.a.Item,{name:"firstname",rules:[{required:!0,message:"Please input your first name!"}],children:Object(w.jsx)(b.a,{placeholder:"Firstname"})}),Object(w.jsx)(d.a.Item,{name:"lastname",rules:[{required:!0,message:"Please input your last name!"}],children:Object(w.jsx)(b.a,{placeholder:"Lastname"})}),Object(w.jsx)(d.a.Item,{children:Object(w.jsx)(m.a,{style:{width:"100%"},type:"primary",htmlType:"submit",loading:this.state.loading,children:"Sign Up"})})]})}}]),n}(r.Component),W=Q,X=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.a,Object(E.a)(Object(E.a)({style:{margin:"auto 0"}},{type:"primary",shape:"round",size:"large"}),{},{onClick:function(){return a(!0)},children:"Sign Up"})),Object(w.jsx)(K.a,{title:"Sign Up",visible:n,footer:null,onCancel:function(){return a(!1)},children:Object(w.jsx)(W,{closeModal:function(){return a(!1)}})})]})},Z=i.a.Header,ee=i.a.Content;var te=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(w.jsxs)(i.a,{className:"layout-container",style:{height:"100vh"},children:[Object(w.jsxs)(Z,{className:"layout__header",children:[Object(w.jsxs)("span",{className:"header__logo-container",children:[Object(w.jsx)("img",{className:"header__logo",src:G,alt:""}),Object(w.jsxs)("h1",{children:["Order",Object(w.jsx)("span",{children:"Any"}),"where"]})]}),n?Object(w.jsx)(Y,{}):Object(w.jsx)(X,{})]}),Object(w.jsx)(ee,{style:{padding:"50px",maxHeight:"calc(100% - 64px)",overflowY:"auto"},children:n?Object(w.jsx)(M,{}):Object(w.jsx)(k,{onSuccess:function(){return a(!0)}})})]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,296)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};c.a.render(Object(w.jsx)(te,{}),document.getElementById("root")),ne()}},[[282,1,2]]]);
//# sourceMappingURL=main.8f28695c.chunk.js.map